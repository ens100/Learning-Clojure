

- Introduction:
    - How to determine which server side system to use? There are many out there:
    -  Heroku
    -  Jetty
    -  tomcat
    -  mongrel2
    -  Ring - takes common abstraction to build webapp. Most projects use ring.
- Run a server
    - To add a dependency search for the latest version "clojure ring github" [site](https://github.com/ens100/Learning-Clojure/blob/master/post/2020-08-10.md)
    -  Library name and version number are what is needed to port over.
    -  copy entire ring package - paste into project file (under dependencies)
    -  Once loaded into the IDE need to add a  require function in the namespace
        - `(:require [ring.adapter.jetty :as jetty])`
    -  Then add a port call
    - `(defn -main [port] (jetty/run-jetty (fn [req] {:status 200 :body "Hello, World!" :headers {}}) {:port (Integer. port)}))`
    - Go to PowerShell and the root of the project.clj run `lein run 8000`  then g to `http://localhost:8000/`
    -  this should show "Hello World"
    -  to kill 8000 `netstat  -ano  |  findstr  8000`
    -  `taskkill  /F  /PID  XXXX`
- Ring - there are three parts:
    -  Adapter - this is like Jetty that we ran
        -  take http request - convert to ring and pass to handler
    -  handler
        -  takes a ring request and outputs a ring response
        -  http request comes in to the adapter - converts and pushes to handler, handler returns response
        -  simply a clojure function.
    -  has three core comcetps
        -  status - http status code
        -  body - string, file
        -  headings
    - middleware
        -  Connect between adapter and handler
        -  can have many middlewares = middleware stack
        -  take a function and returns a different handler.
-  wrap-reload - avoids having to continuously kill and restart localhost
    -  every request - reloads change files.
    -  need to wrap handler in a var - value in var gets reloaded.
    -  to get this running need to add a dependency  `[ring.middleware.reload :refer [wrap-reload]`
    -  add a profile for development `(defn  -dev-main [port]  (jetty/run-jetty (wrap-reload #'greet) {:port (Integer. port)}))`
    -  `:profiles {:dev :main todo.core/-dev-main}})`
    -  kill server and re-run
    -  Too add in a page reference add a conditional function and then add in the test. If` (= "/goodbye" (:uri req))` - is the url = goodbye
-  compojure -takes a library of urls and returns.
    -  as adding  new library will need to kill and restart server
    -  find compojure on github and like with ring add it as a dependency
    -  `[compojure.core :refer [defroutes GET]]` and `[compojure.route :refer [not-found]]`
    -  add defroutes to the body
    -  to add more such as /goodbye - just add to the handler as did for hello
- Posting
    -   To post the app online need to have Heoku and Git installed. Once these are installed and set up.
    -   Need to add a couple more items to the project file so that it can read it properly.
    -   Also need to create a new `Procfile` - this is so that Heroku knows what to read.
    -   Sync up git and heroku - need to study this a little more
    -   but seem to have managed to get my app up and running. Quite cool.
